.categories_section {
  padding: $s32 0;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);

  .categories_header {
    text-align: center;
    margin-bottom: $s32;

    .categories_title {
      font-size: 3rem;
      font-weight: $semibold;
      color: #1e293b;
      margin-bottom: $s16;

      @media (max-width: 768px) {
        font-size: 3.2rem;
      }
    }

    .categories_subtitle {
      font-size: $f18;
      color: #64748b;
      max-width: 60rem;
      margin: 0 auto;

    }
  }

  .categories_container {
    position: relative;
    padding: 0 $s48;

    &:hover {
      .scroll_button {
        opacity: 1;
      }
    }

    .scroll_button {
      position: absolute;
      top: 50%;
      opacity: 0;
      transform: translateY(-50%);
      z-index: 1;
      background: white;
      border: 1px solid #e2e8f0;
      box-shadow: 0 $s4 $s12 rgba(0, 0, 0, 0.1);
      width: $s48;
      height: $s48;
      border-radius: 50%;
      transition: all 0.3s ease;

      &:hover {
        cursor: pointer;
      }

      &.scroll_button_left {
        left: $s20;
      }

      &.scroll_button_right {
        right: $s20;
      }

    }

    .categories_scroll {
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      overflow-y: hidden;
      scrollbar-width: none;
      -ms-overflow-style: none;

      &::-webkit-scrollbar {
        display: none;
      }



      .categories_grid {
        display: grid;
        gap: $s20;
        grid: auto / auto-flow calc(calc(min(calc(100vw - 15px - 3rem * 2), max(1560px, 1280px)) / 4) - clamp(1rem, 1.263vw, 1.5rem) * calc(4 - 1) / 4);
        min-width: fit-content;
        overflow-x: auto;

        .category_card {
          overflow: hidden;
          transition: all 0.3s ease;
          cursor: pointer;
          aspect-ratio: 4 / 5;
          position: relative;
          aspect-ratio: 2/3;

          &:hover {
            .category_arrow {
              transform: rotate(90deg);
            }

            .category_image {
              scale: 1.1 !important;
            }
          }

          &.category_card_large {

            .category_info {
              position: absolute;
              padding-block-start: 0;
              padding-block-end: $s20;
              padding-inline: $s15;
              color: $neutral_00;
            }

            .category_image_wrapper {
              height: 100%;
            }
          }

          .category_image_wrapper {
            border-radius: $s8;
            overflow: hidden;
            width: 100%;

            .category_image {
              width: 100%;
              height: 100%;
              object-fit: cover;
              aspect-ratio: 4 / 5;
              transition: all 0.3s ease;
              scale: 1;
            }

          }

          .category_info {
            inset-block-end: 0;
            inset-inline-start: 0;
            padding-bottom: $s15;
            padding-left: 0;
            padding-right: 0;
            padding-top: $s10;
            @include flex-between();
            width: 100%;

            .category_name {
              font-size: $f16;
              font-weight: $medium;
              line-height: 1.3;
              position: relative;
              width: fit-content;

              .category_count {
                position: absolute;
                inset-block-start: calc(2px * -1);
                inset-inline-start: calc(100% + 0.3em);
                font-size: $f12;
                font-weight: $medium;
              }
            }

            .category_subname {
              font-size: $f12;
              font-weight: $medium;
            }
          }

          .category_arrow {
            width: $s20;
            height: $s20;
            transition: transform 0.3s ease;
          }
        }

      }

    }
  }
}












// Touch device optimizations
@media (hover: none) and (pointer: coarse) {
  .category_card {
    &:active {
      transform: translateY(-4px);
    }
  }

  .category_button {
    opacity: 1;
    transform: translateY(0);
  }
}